---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "azurekeyvault_certificate Resource - terraform-provider-azurekeyvault"
subcategory: ""
description: |-
  This resource manages Azure Key Vault certificates
---

# azurekeyvault_certificate (Resource)

This resource manages Azure Key Vault certificates

## Example Usage

```terraform
terraform {
  required_providers {
    pkcs12 = {
      source  = "chilicat/pkcs12"
      version = "0.0.7"
    }
    tls = {
      source  = "hashicorp/tls"
      version = "~> 3.1.0"
    }
  }
}

provider "azurekeyvault" {}

resource "tls_private_key" "this" {
  algorithm = "RSA"
  rsa_bits  = 4096
}

resource "tls_self_signed_cert" "this" {
  key_algorithm         = "RSA"
  private_key_pem       = tls_private_key.this.private_key_pem
  validity_period_hours = 26298

  subject {
    common_name    = "CN=this"
    serial_number  = "000000001"
    street_address = []
  }

  allowed_uses = [
    "key_encipherment",
    "digital_signature",
    "client_auth",
  ]
}

resource "pkcs12_from_pem" "this" {
  password        = "secret-sauce"
  cert_pem        = tls_self_signed_cert.this.cert_pem
  private_key_pem = tls_private_key.this.private_key_pem
}

resource "azurekeyvault_certificate" "this" {
  name             = "this"
  key_vault_name   = "MYKV"
  purge_on_destroy = true

  certificate {
    contents = pkcs12_from_pem.this.result
    password = pkcs12_from_pem.this.password
  }

  certificate_policy {
    issuer_parameters {
      name = "Self"
    }

    key_properties {
      exportable = true
      key_size   = 4096
      key_type   = "RSA"
      reuse_key  = false
    }

    secret_properties {
      content_type = "application/x-pkcs12"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `key_vault_name` (String) The name of the target Key Vault.
- `name` (String) Specifies the name of the Key Vault Certificate.

### Optional

- `certificate` (Block List, Max: 1) (see [below for nested schema](#nestedblock--certificate))
- `certificate_policy` (Block List, Max: 1) (see [below for nested schema](#nestedblock--certificate_policy))
- `id` (String) The ID of this resource.
- `purge_on_destroy` (Boolean) Whether the Certificate should be purged during destroy.
- `tags` (Map of String)

### Read-Only

- `certificate_attribute` (List of Object) (see [below for nested schema](#nestedatt--certificate_attribute))
- `certificate_data` (String) The raw Key Vault Certificate data represented as a hexadecimal string.
- `certificate_data_base64` (String) The Base64 encoded Key Vault Certificate data.
- `secret_id` (String) The ID of the associated Key Vault Secret.
- `thumbprint` (String) The X509 Thumbprint of the Key Vault Certificate represented as a hexadecimal string.
- `version` (String) The current version of the Key Vault Certificate.
- `versionless_id` (String) The Base ID of the Key Vault Certificate.
- `versionless_secret_id` (String) The Base ID of the Key Vault Secret.

<a id="nestedblock--certificate"></a>
### Nested Schema for `certificate`

Required:

- `contents` (String, Sensitive) The base64-encoded certificate contents.

Optional:

- `password` (String, Sensitive) The password associated with the certificate.


<a id="nestedblock--certificate_policy"></a>
### Nested Schema for `certificate_policy`

Required:

- `issuer_parameters` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--certificate_policy--issuer_parameters))
- `key_properties` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--certificate_policy--key_properties))
- `secret_properties` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--certificate_policy--secret_properties))

Optional:

- `lifetime_action` (Block List) (see [below for nested schema](#nestedblock--certificate_policy--lifetime_action))
- `x509_certificate_properties` (Block List, Max: 1) (see [below for nested schema](#nestedblock--certificate_policy--x509_certificate_properties))

<a id="nestedblock--certificate_policy--issuer_parameters"></a>
### Nested Schema for `certificate_policy.issuer_parameters`

Required:

- `name` (String) The name of the Certificate Issuer. Possible values include `Self` (for self-signed certificate), or `Unknown` (for a certificate issuing authority like `Let's Encrypt` and Azure direct supported ones).


<a id="nestedblock--certificate_policy--key_properties"></a>
### Nested Schema for `certificate_policy.key_properties`

Required:

- `exportable` (Boolean) Enable if the certificate should be exportable.
- `key_type` (String) Specifies the type of key, such as `RSA` or `EC`.
- `reuse_key` (Boolean) Enable if thek key should be reusable.

Optional:

- `curve` (String) Specifies the curve to use when creating an `EC` key. Possible values are `P-256`, `P-256K`, `P-384`, and `P-521`. This field will be required in a future release if `key_type` is `EC` or `EC-HSM`.
- `key_size` (Number) The size of the key used in the certificate. Possible values include `2048`, `3072`, and `4096` for `RSA` keys, or `256`, `384`, and `521` for `EC` keys. This property is required when using `RSA` keys.


<a id="nestedblock--certificate_policy--secret_properties"></a>
### Nested Schema for `certificate_policy.secret_properties`

Required:

- `content_type` (String) The Content-Type of the Certificate, such as `application/x-pkcs12` for a PFX or `application/x-pem-file` for a PEM.


<a id="nestedblock--certificate_policy--lifetime_action"></a>
### Nested Schema for `certificate_policy.lifetime_action`

Required:

- `action` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--certificate_policy--lifetime_action--action))
- `trigger` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--certificate_policy--lifetime_action--trigger))

<a id="nestedblock--certificate_policy--lifetime_action--action"></a>
### Nested Schema for `certificate_policy.lifetime_action.action`

Required:

- `action_type` (String) The Type of action to be performed when the lifetime trigger is triggered. Possible values include `AutoRenew` and `EmailContacts`.


<a id="nestedblock--certificate_policy--lifetime_action--trigger"></a>
### Nested Schema for `certificate_policy.lifetime_action.trigger`

Optional:

- `days_before_expiry` (Number) The number of days before the Certificate expires that the action associated with this Trigger should run.
- `lifetime_percentage` (Number) The percentage at which during the Certificates Lifetime the action associated with this Trigger should run.



<a id="nestedblock--certificate_policy--x509_certificate_properties"></a>
### Nested Schema for `certificate_policy.x509_certificate_properties`

Required:

- `key_usage` (Set of String) A list of uses associated with this Key. Possible values include `cRLSign`, `dataEncipherment`, `decipherOnly`, `digitalSignature`, `encipherOnly`, `keyAgreement`, `keyCertSign`, `keyEncipherment` and `nonRepudiation` and are case-sensitive.
- `subject` (String) The Certificate's Subject.
- `validity_in_months` (Number) The Certificates Validity Period in Months.

Optional:

- `extended_key_usage` (List of String) A list of Extended/Enhanced Key Usages.
- `subject_alternative_names` (Block List, Max: 1) (see [below for nested schema](#nestedblock--certificate_policy--x509_certificate_properties--subject_alternative_names))

<a id="nestedblock--certificate_policy--x509_certificate_properties--subject_alternative_names"></a>
### Nested Schema for `certificate_policy.x509_certificate_properties.subject_alternative_names`

Optional:

- `dns_names` (Set of String) A list of alternative DNS names (FQDNs) identified by the Certificate
- `emails` (Set of String) A list of email addresses identified by this Certificate.
- `upns` (Set of String) A list of User Principal Names identified by the Certificate.




<a id="nestedatt--certificate_attribute"></a>
### Nested Schema for `certificate_attribute`

Read-Only:

- `created` (String)
- `enabled` (Boolean)
- `expires` (String)
- `not_before` (String)
- `recovery_level` (String)
- `updated` (String)


